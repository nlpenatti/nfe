document.getElementById("verificarButton").addEventListener("click",verificar);document.getElementById("limparButton").addEventListener("click",limpar);document.getElementById("chaveAcessoInput").addEventListener("keydown",function(e){if(e.key==="Enter"){verificar()}});function verificarChaveAcesso(e){const o=document.getElementById("mensagemErro");if(e.length<44){exibirMensagemErro("A sua chave possui menos de 44 números.");return null}else if(e.length>44){exibirMensagemErro("A sua chave possui mais de 44 números.");return null}else if(!/^\d+$/.test(e)){exibirMensagemErro("A chave não pode possuir letras e números, por favor, verifique");return null}const t=e.substr(0,2);const n=e.substr(2,4);const a=e.substr(6,14);const i=e.substr(20,2);const s=e.substr(22,3);const r=e.substr(25,9);const c=e.substr(34,1);const d=e.substr(35,8);const l=e.substr(43,1);const m={11:"Rondônia",12:"Acre",13:"Amazonas",14:"Roraima",15:"Pará",16:"Amapá",17:"Tocantins",21:"Maranhão",22:"Piauí",23:"Ceará",24:"Rio Grande do Norte",25:"Paraíba",26:"Pernambuco",27:"Alagoas",28:"Sergipe",29:"Bahia",31:"Minas Gerais",32:"Espírito Santo",33:"Rio de Janeiro",35:"São Paulo",41:"Paraná",42:"Santa Catarina",43:"Rio Grande do Sul",50:"Mato Grosso do Sul",51:"Mato Grosso",52:"Goiás",53:"Distrito Federal"};const f=m[t]||"UF desconhecida";let u="";let I="";if(i==="01"){u="Modelo 01";I="(01) Nota Fiscal 1/1ª"}else if(i==="02"){u="Modelo 02";I="(02) Nota Fiscal de Venda a Consumidor"}else if(i==="04"){u="Modelo 04";I="(04) Nota Fiscal de Produtor"}else if(i==="06"){u="Modelo 06";I="(06) Nota Fiscal/Conta de Energia Elétrica"}else if(i==="07"){u="Modelo 07";I="(07) Nota Fiscal de Serviço de Transporte"}else if(i==="08"){u="Modelo 08";I="(08) Conhecimento de Transporte Rodoviário de Cargas"}else if(i==="09"){u="Modelo 09";I="(09) Conhecimento de Transporte Aquaviário de Cargas"}else if(i==="10"){u="Modelo 10";I="(10) Conhecimento Aéreo"}else if(i==="11"){u="Modelo 11";I="(11) Conhecimento de Transporte Ferroviário de Cargas"}else if(i==="13"){u="Modelo 13";I="(13) Bilhete de Passagem Rodoviário"}else if(i==="14"){u="Modelo 14";I="(14) Bilhete de Passagem Aquaviário"}else if(i==="15"){u="Modelo 15";I="(15) Bilhete de Passagem e Nota de Bagagem"}else if(i==="17"){u="Modelo 17";I="(17) Despacho de Transporte"}else if(i==="16"){u="Modelo 16";I="(16) Bilhete de Passagem Ferroviário"}else if(i==="18"){u="Modelo 18";I="(18) Resumo de Movimento Diário"}else if(i==="20"){u="Modelo 20";I="(20) Ordem de Coleta de Cargas"}else if(i==="21"){u="Modelo 21";I="(21) Nota Fiscal de Serviço de Comunicação"}else if(i==="22"){u="Modelo 22";I="(22) Nota Fiscal de Serviço de Telecomunicação"}else if(i==="23"){u="Modelo 23";I="(23) GNRE"}else if(i==="24"){u="Modelo 24";I="(24) Autorização de Carregamento e Transporte"}else if(i==="25"){u="Modelo 25";I="(25) Manifesto de Carga"}else if(i==="26"){u="Modelo 26";I="(26) Conhecimento de Transporte Multimodal de Cargas"}else if(i==="27"){u="Modelo 27";I="(27) Nota Fiscal De Transporte Ferroviário De Carga"}else if(i==="28"){u="Modelo 28";I="(28) Nota Fiscal/Conta de Fornecimento de Gás Canalizado"}else if(i==="29"){u="Modelo 29";I="(29) Nota Fiscal/Conta De Fornecimento D'água Canalizada"}else if(i==="55"){u="Modelo 55";I="(55) Nota Fiscal Eletrônica - NF-e"}else if(i==="57"){u="Modelo 57";I="(57) Conhecimento de Transporte Eletrônico - CT-e"}else if(i==="58"){u="Modelo 58";I="(58) Cupom Fiscal Eletrônico CF-e-SAT"}else if(i==="59"){u="Modelo 59";I="(59) Cupom Fiscal Eletrônico - CF-e"}else if(i==="60"){u="Modelo 60";I="(60) Cupom Fiscal Eletrônico CF-e-ECF"}else if(i==="65"){u="Modelo 65";I="(65) NFe para Consumidor Final"}else{u="Modelo "+i;I="("+i+") - Modelo desconhecido"}return{uf:t,ufName:f,anoMes:n,cnpj:a,modelo:u,modeloNome:I,serie:s,numeroNF:r,formaEmissao:c,codigoNumerico:d,digitoVerificador:l}}function verificar(){const e=document.getElementById("chaveAcessoInput").value;const o=verificarChaveAcesso(e);if(o){exibirInformacoesChave(o);const t=formatarInformacoesChave(o);copiarInformacoes(t);exibirCaixaInformacoesCopiadas()}}function exibirMensagemErro(e){const o=document.getElementById("mensagemErro");o.textContent=e;o.style.display="block";setTimeout(function(){o.style.display="none";o.textContent=""},3e3)}function exibirInformacoesChave(e){document.getElementById("ufInfo").textContent=`${e.uf} - ${e.ufName}`;document.getElementById("anoMesInfo").textContent=e.anoMes;const o=document.getElementById("cnpjInfo");o.textContent=formatarCNPJ(e.cnpj);document.getElementById("modeloInfo").textContent=e.modeloNome;const t=document.getElementById("serieInfo");const n=e.serie;t.textContent=n;if(n==="222"||n==="999"||n==="111"){t.style.color="tomato";t.style.fontStyle="italic";t.textContent+=" - Série não identificada."}else{t.style.color="inherit";t.style.fontStyle="normal"}t.addEventListener("mouseout",function(){document.getElementById("chaveAcessoInput").innerHTML=""});document.getElementById("numeroNFInfo").textContent=e.numeroNF;document.getElementById("formaEmissaoInfo").textContent=e.formaEmissao;document.getElementById("codigoNumericoInfo").textContent=e.codigoNumerico;document.getElementById("digitoVerificadorInfo").textContent=e.digitoVerificador}function verificar(){const e=document.getElementById("chaveAcessoInput").value;verificarChaveAcesso(e);const o=verificarChaveAcesso(e);if(o){exibirInformacoesChave(o);const t=formatarInformacoesChave(o);copiarInformacoes(t);exibirCaixaInformacoesCopiadas()}}function exibirCaixaInformacoesCopiadas(){const e=document.getElementById("copiedInfoBox");e.classList.add("show");setTimeout(function(){e.classList.remove("show")},1e4)}function limpar(){document.getElementById("chaveAcessoInput").value="";document.getElementById("ufInfo").textContent="";document.getElementById("anoMesInfo").textContent="";document.getElementById("cnpjInfo").textContent="";document.getElementById("modeloInfo").textContent="";document.getElementById("serieInfo").textContent="";document.getElementById("numeroNFInfo").textContent="";document.getElementById("formaEmissaoInfo").textContent="";document.getElementById("codigoNumericoInfo").textContent="";document.getElementById("digitoVerificadorInfo").textContent="";document.getElementById("exibirMensagemErro").value=""}function formatarCNPJ(e){const o=e.replace(/(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})/,"$1.$2.$3/$4-$5");return o}document.getElementById("copiarButton").addEventListener("click",copiarInformacoes);function copiarInformacoes(){const e="UF: ";const o=document.getElementById("ufInfo").textContent;const t="Ano/Mês: ";const n=document.getElementById("anoMesInfo").textContent;const a="CNPJ: ";const i=document.getElementById("cnpjInfo").textContent;const s="Modelo: ";const r=document.getElementById("modeloInfo").textContent;const c="Série: ";const d=document.getElementById("serieInfo").textContent;const l="Número NF: ";const m=document.getElementById("numeroNFInfo").textContent;const f="Forma de Emissão: ";const u=document.getElementById("formaEmissaoInfo").textContent;const I="Código Numérico: ";const C=document.getElementById("codigoNumericoInfo").textContent;const g="Dígito Verificador: ";const E=document.getElementById("digitoVerificadorInfo").textContent;const v=document.getElementById("chaveAcessoInput").value;const p=`Chave de Acesso: ${v}\n${e}${o}\n${t}${n}\n${a}${i}\n${s}${r}\n${c}${d}\n${l}${m}\n${f}${u}\n${I}${C}\n${g}${E}`;navigator.clipboard.writeText(p).then(()=>{const e=document.getElementById("copiedInfoMessage");e.textContent="As informações da chave de acesso foram copiadas!";e.style.display="block";setTimeout(()=>{e.style.display="none"},2e3)}).catch(e=>{console.error("Erro ao copiar as informações:",e)})}function voltarPagina(){window.location.href="https://validador.info/"}const chaveBoxes=document.querySelectorAll(".chave-box");chaveBoxes.forEach(function(o){o.addEventListener("click",function(){const e=o.textContent.trim();if(e!==""){navigator.clipboard.writeText(e).then(()=>{alert("Informação copiada com sucesso!")}).catch(e=>{console.error("Erro ao copiar a informação!:",e)})}})});